---
title: "AOLab3P1"
author: "Adaeze Obinelo"
format:
  html:
    embed-resources: true
---

# Step 1+2\--\> read the data

There are 2377343 data points and 30 variables

```{r}
#| echo: false
2 * 2
met <- data.table::fread(file.path("~", "Downloads", "met_all.gz")) 
dim(met)
head(met)
tail(met)
str(met)
summary(met[,8:13])
table(met$year)
table(met$hour)
table(met$month)
summary(met$lat)
summary(met$lon)
summary(met$temp)
summary(met$elev)
summary(met$wind.sp)
met[met$elev==9999.0] <- NA
summary(met$elev)
# this ^ gives us statistic summary of temp variabl


```

## Step 3

```{r}
#| echo: false
2 * 2
str(met)
```

## Step 4

```{r}
#| echo: false
2 * 2
summary(met[,8:13])
table(met$year)
table(met$hour)
table(met$month)
summary(met$lat)
summary(met$lon)
summary(met$temp)
summary(met$elev)
summary(met$wind.sp)
met[met$elev==9999.0] <- NA
summary(met$elev)
elev <- met[elev==max(elev), ]
summary(elev)
```

## Step 5

```{r}
#| echo: false
2 * 2

mean(is.na(met$temp))
#tell us whether or not a particular value is NA i.e. about 2.5% of temperature values are missing

met_ss <- met[met$temp == -40.00, c('hour', 'lat', 'lon', 'elev', 'wind.sp')]
# creates new dataset called 'met_ss' use square brackets to subset, c means create a vector (pulls out columns) of specified variables 
dim(met_ss)
summary(met_ss)

# we think -40 observations are probably not real, so we want to get rid of them
# will subset again to make new set without them
# will call it 'met' to override original met dataset

met <- met[met$temp != -40.00,]
# double equal sign means 'equals' != means 'not equal to

dim(met)
summary(met)
#look at new dataset met

# if you do met temp procedure in console first, you'll get an idea of how things will be ordered--> itll give u integers
met <- met[order(met$temp)]
summary(met$temp)
summary(met)

head(met)
tail(met)
head(met)[,c(1,8:10,24)]
tail(met)[,c(1,8:10,24)]
# the c makes a vector again --> we are only pulling these variables; see str func to find out which variables r which

met_daily <- met[, .(
  temp = mean(temp),
  lat  = mean(lat),
  lon  = mean(lon),
  elev = mean(elev)
), by = c("USAFID", "day")][order(temp)]
head(met_daily)

tail(met_daily)

library(magrittr)
library(dplyr)
met_daily_dplyr <- met %>% 
  group_by(USAFID, day) %>%
  summarize(temp = mean(temp)) %>%
  arrange(desc(temp))

# use %>% to "pipe"--> express a string of multiple operations; need magrittr package to use this version of pipe
# that's why i put that in first
# also need dplyr function to use arrange lol so i added that next

summary(met_daily_dplyr)

head(met_daily_dplyr)
tail(met_daily_dplyr)

```

## 
